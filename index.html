<!DOCTYPE html>
<!-- Coding By CodingNepal - www.codingnepalweb.com -->
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pluto A.I.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="style.css">

    <!-- Google Fonts Link For Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="script.js" defer></script>
  </head>

  <body>
    
    <!-- Chats container -->
    <div class="chat-container"></div>
    
    <!-- Typing container -->
    <div class="typing-container">
      <div class="typing-content">

        <div class="typing-textarea">
          <textarea id="chat-input" spellcheck="false" placeholder="Enter a message here" required></textarea>
          <span id="send-btn" class="material-symbols-rounded">send</span>
        </div>

        <div class="typing-controls-1">
          <span id="gen-btn" class="material-symbols-rounded"><i class="fa fa-file"></i>
            
    <script>
        async function generateImage(data) {
    try {
        const response = await fetch(
            "https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-2-1",
            {
                headers: { Authorization: `Bearer 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` },
                method: "POST",
                body: JSON.stringify({ "inputs": data }),
            }
        );
        if (!response.ok) {
            throw new Error('Failed to fetch image from the API');
        }
        const result = await response.blob();
        return result;
    } catch (error) {
        console.error('Error fetching image:', error);
        throw new Error('Failed to fetch image');
    }
}

const btn = document.querySelector('#gen-btn');
const tdata = document.querySelector('#chat-input');
const img = document.querySelector('#img');

btn.addEventListener('click', async function () {
    try {
        const response = await generateImage(tdata.value);
        const objUrl = URL.createObjectURL(response);
        img.src = objUrl;
    } catch (error) {
        console.error('Error in generateImage:', error);
        // Handle error display or logging as needed
    }
});

    </script>
    <script>
        async function chatbot(data) {
    try {
        const response = await fetch(
            "https://api-inference.huggingface.co/models/NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO",
            {
                headers: {
                    Authorization: 'Bearer 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',
                    "Content-Type": "application/json"
                },
                method: "POST",
                body: JSON.stringify(data),
            }
        );

        if (!response.ok) {
            throw new Error('Failed to fetch response from the API');
        }

        const result = await response.json();
        return result;
        } catch (error) {
          console.error('Error in chatbot:', error);
          throw new Error('Failed to process the request');
          }
      }

    </script>

          </span>
          <!-- <span id="image-btn" class="material-symbols-rounded"><i class="material-icons">file_upload</i></span> -->
          <span id="delete-btn" class="material-symbols-rounded">delete</span>
        </div> 

        <div class="typing-controls-2">
          <span id="theme-btn" class="material-symbols-rounded">light_mode</span>
        </div>

      </div>
    </div>

  </body>
</html>